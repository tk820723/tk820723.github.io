{"meta":{"title":"ä¸€åŠæ¸¸äº‘ ä¸€åŠå‡Œéœ„","subtitle":null,"description":null,"author":"Weibai Lu","url":"http://tk820723.github.io"},"pages":[],"posts":[{"title":"macä¸‹è¿˜åŸpvrä¸plistä¸ºå¤šä¸ªpng","slug":"macä¸‹è¿˜åŸpvrä¸plistä¸ºå¤šä¸ªpng","date":"2016-04-20T09:06:34.000Z","updated":"2016-04-20T09:25:05.000Z","comments":true,"path":"2016/04/20/macä¸‹è¿˜åŸpvrä¸plistä¸ºå¤šä¸ªpng/","link":"","permalink":"http://tk820723.github.io/2016/04/20/macä¸‹è¿˜åŸpvrä¸plistä¸ºå¤šä¸ªpng/","excerpt":"","keywords":null,"text":"åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆä¹…ï¼Œå¦‚ä½•æŠŠå¾ˆå¤šç½‘ä¸Šä¸‹è½½çš„ipaåŒ…ä¸­æ‰£å‡ºçš„å›¾ç‰‡èµ„æºï¼ˆé€šå¸¸ä¸ºpvrä¸plistç»“åˆæ ¼å¼ï¼‰è¿˜åŸä¸ºpngï¼Œåªæ‰¾åˆ°äº†ä¸€äº›pythonå†™çš„ä»£ç ï¼Œä½†æ˜¯macä¸‹è·‘ä¸èµ·æ¥ï¼Œä¸€ç›´æ²¡æœ‰æ‰¾åˆ°å¾ˆå¥½çš„è‡ªåŠ¨åŒ–æ–¹æ³•ï¼Œå°±è‡ªå·±å†™äº†ä¸€ä¸ªmacè½¯ä»¶ï¼Œå¸®åŠ©å¤„ç†è‡ªåŠ¨åŒ–åˆ‡å›¾ã€‚éœ€è¦è‡ªå·±ä¼ å…¥ç›¸åº”çš„pngå¤§å›¾è·¯å¾„ï¼Œplistæ–‡ä»¶è·¯å¾„ï¼Œä»¥åŠè¾“å‡ºç›®å½•è·¯å¾„ Code Block1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768- (void)viewDidLoad &#123; [super viewDidLoad];&#125;- (IBAction)BtnClicked:(NSButton *)sender &#123; if (_pngPathField.stringValue.length == 0 || _plistPathField.stringValue.length == 0 || _targetPathField.stringValue.length == 0) &#123; NSLog(@\"è¾“å…¥è·¯å¾„ä¸èƒ½ä¸ºç©º\"); return; &#125; //è¯»å–æ‰€æœ‰çš„æ–‡ä»¶ï¼Œè½¬æ¢ä¸ºæ•°æ®æ•°ç»„ NSString *pngPath = _pngPathField.stringValue; NSString *plistPath = _plistPathField.stringValue; NSString *targetPath = _targetPathField.stringValue; NSDictionary *plistDic = [NSDictionary dictionaryWithContentsOfFile:plistPath]; NSDictionary *framesDic = [plistDic valueForKey:@\"frames\"]; NSArray *framesArray = framesDic.allValues; NSArray *namesArray = framesDic.allKeys; if (framesArray.count==0||namesArray.count==0) &#123; NSLog(@\"å­—å…¸æ–‡ä»¶æ²¡æœ‰å¯¹è±¡\"); return; &#125; //éå†æ•°ç»„è½¬æ¢plistæ•°æ® for (int i = 0; i&lt; namesArray.count; i++) &#123; NSString *picName = namesArray[i]; NSDictionary *singleImageFrameDic = framesArray[i]; NSString *frameValueString = [singleImageFrameDic valueForKey:@\"frame\"]; NSString *sizeStringTemp =[[frameValueString componentsSeparatedByString:@\"&#125;,&#123;\"] lastObject]; NSString *sizeString = [sizeStringTemp substringToIndex:sizeStringTemp.length-2]; CGSize size = CGSizeMake([[[sizeString componentsSeparatedByString:@\",\"] firstObject] floatValue], [[[sizeString componentsSeparatedByString:@\",\"] lastObject] floatValue]); NSString *originString = [[[frameValueString componentsSeparatedByString:@\"&#125;,&#123;\"] firstObject] substringFromIndex:2]; CGPoint origin = CGPointMake([[[originString componentsSeparatedByString:@\",\"] firstObject] floatValue], [[[originString componentsSeparatedByString:@\",\"] lastObject] floatValue]); NSImage *image = [[NSImage alloc] initWithContentsOfFile:pngPath]; CGImageRef cutImageRef = [self cutImage:image size:size origin:origin]; [self WriteImageRefToFile:cutImageRef path:targetPath withImageName:picName]; &#125; NSLog(@\"è¾“å…¥å›¾ç‰‡æˆåŠŸ\");&#125;//æ ¹æ®æ•°æ®åˆ‡å‰²å›¾ç‰‡ï¼Œè¿”å›åˆ‡å‰²å®Œçš„å›¾ç‰‡ref- (CGImageRef)cutImage: (NSImage *)image size: (CGSize)size origin: (CGPoint)origin&#123; CGImageSourceRef source = CGImageSourceCreateWithData((CFDataRef)[image TIFFRepresentation], NULL); CGImageRef maskRef = CGImageSourceCreateImageAtIndex(source, 0, NULL); CGImageRef finalImgRef = CGImageCreateWithImageInRect(maskRef, CGRectMake(origin.x, origin.y, size.width, size.height)); return finalImgRef;&#125;//æŠŠå›¾ç‰‡è¾“å‡ºåˆ°é€‰æ‹©çš„ç›®å½•- (void)WriteImageRefToFile: (CGImageRef) image path: (NSString *)path withImageName: (NSString *)imageName&#123; NSString *desPath = [NSString stringWithFormat:@\"%@/%@\",path,imageName]; CFURLRef url = (__bridge CFURLRef)[NSURL fileURLWithPath:desPath]; CGImageDestinationRef destination = CGImageDestinationCreateWithURL(url, kUTTypePNG, 1, NULL); CGImageDestinationAddImage(destination, image, nil); if (!CGImageDestinationFinalize(destination)) &#123; NSLog(@\"Failed to write image to %@\", path); &#125; CFRelease(destination);&#125;","raw":null,"content":null,"categories":[{"name":"cocos2dx","slug":"cocos2dx","permalink":"http://tk820723.github.io/categories/cocos2dx/"}],"tags":[]},{"title":"hexo deploy éƒ¨ç½²githubç¼“æ…¢è§£å†³æ–¹æ³•","slug":"hexo-deploy-ç¼“æ…¢è§£å†³æ–¹æ³•","date":"2016-04-20T08:46:16.000Z","updated":"2016-04-20T09:04:07.000Z","comments":true,"path":"2016/04/20/hexo-deploy-ç¼“æ…¢è§£å†³æ–¹æ³•/","link":"","permalink":"http://tk820723.github.io/2016/04/20/hexo-deploy-ç¼“æ…¢è§£å†³æ–¹æ³•/","excerpt":"","keywords":null,"text":"ä¸çŸ¥é“å‡ºäºä»€ä¹ˆåŸå› ï¼Œä½¿ç”¨hexo deployéƒ¨ç½²åˆ°githubä¼šéå¸¸ç¼“æ…¢ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªå°æ—¶éƒ½æ²¡ååº”ã€‚æŸ¥è¯¢äº†ä¸€å¤§å †èµ„æºéƒ½æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ³•ï¼Œåæ¥ç»“åˆgithubéƒ¨ç½²ä¸ªäººç½‘ç«™åŸç†ï¼Œå…¶å®æ›´æ”¹çš„æœ€ä¸»è¦å°±æ˜¯index.htmlè¿™ä¸ªé™æ€ç½‘é¡µã€‚æ‰€ä»¥å°è¯•æ‰‹åŠ¨pushåˆ°githubï¼Œè¿™æ ·éƒ¨ç½²è¿‡ç¨‹å°±å¿«å¾ˆå¤šäº†ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š ï¼Š æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œcdåˆ°è¿™ä¸ªç›®å½•ï¼Œä½¿ç”¨git initåˆå§‹åŒ–gitç„¶ågit remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ç”¨æˆ·å.github.io ç»™è¿™ä¸ªç›®å½•è¿æ¥åˆ°ä½ çš„ç½‘é¡µ ï¼Š git pull origin master æ‹‰ä¸‹å½“å‰ç›®å½• ï¼Š ç„¶åæŠŠhexoåœ¨ä½ æœ¬åœ°ç½‘é¡µç›®å½•ä¸‹ç”Ÿæˆçš„publicæ‰€æœ‰ä¸œè¥¿æ›¿æ¢è¿›æ–°å»ºçš„è¿™ä¸ªæ–‡ä»¶å¤¹ ï¼Š ç„¶åpushä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œæ•´ä¸ªéƒ¨ç½²å°±å®Œæˆäº†","raw":null,"content":null,"categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://tk820723.github.io/categories/Hexo/"}],"tags":[{"name":"Hexo deploy","slug":"Hexo-deploy","permalink":"http://tk820723.github.io/tags/Hexo-deploy/"}]},{"title":"è¿™æ˜¯ç¬¬ä¸€ç¯‡ä¸»é¡µæ–‡ç« ï¼Œæˆ‘å†³å®šæŠŠä»–æ‹¿æ¥æµ‹è¯•","slug":"ç»ˆäºæŠŠHexoæœåŠ¡å™¨å¼„å¥½äº†","date":"2016-04-20T05:30:49.000Z","updated":"2016-04-20T07:00:01.000Z","comments":true,"path":"2016/04/20/ç»ˆäºæŠŠHexoæœåŠ¡å™¨å¼„å¥½äº†/","link":"","permalink":"http://tk820723.github.io/2016/04/20/ç»ˆäºæŠŠHexoæœåŠ¡å™¨å¼„å¥½äº†/","excerpt":"","keywords":null,"text":"æŠ˜è…¾åŠå¤©ç»ˆäºæŠŠHexoæœåŠ¡å™¨å¼„å¥½äº†ï¼Œä¸»è¦æ˜¯å„ç§è£…äº†ä¸€åŠå¤±è´¥ï¼Œç„¶åæŸ¥é˜…èµ„æ–™ï¼ŒåŸæ¥æ˜¯ç¿»å¢™çš„åŸå› ã€‚ç¿»äº†å¢™ä¹‹ååˆé‡åˆ°å›½å†…hexo2.0å’Œ3.0æ•™ç¨‹ä¸å…¼å®¹é—®é¢˜ï¼Œå…¬å¸ç½‘ç»œè¿æ¥githubä¹Ÿæ˜¯æ—¶å¥½æ—¶åï¼Œç£•ç£•ç¢°ç¢°ç»ˆäºæå¥½äº†ä¸€ä¸ªç½‘ç«™ã€‚å¯ä»¥ç”¨æ¥è£…é€¼äº†å“ˆå“ˆã€‚ä¸‹é¢ğŸ‘‡å…¨æ˜¯å­¦ä¹ hexoçš„æµ‹è¯•ã€‚ è¿™æ˜¯ä¸€æ®µblockquote Weibai LuQueteMe.com Code Block1NSLog(@\"Hello codeblock!\");","raw":null,"content":null,"categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://tk820723.github.io/categories/Hexo/"}],"tags":[]}]}